{"title":"microcontroller-keil","uid":"80348492abd4baa28496f32cd4666a03","slug":"microcontroller-keil","date":"2024-04-13T10:50:51.000Z","updated":"2024-04-13T12:11:35.474Z","comments":true,"path":"api/articles/microcontroller-keil.json","keywords":null,"cover":[],"content":"<p>单片机课程中除了需要画出原理图，还要根据自己的目的给单片机编写程序。</p>\n<p>由于Keil是纯英文界面，不是特别友好，下面记录一些基础使用方法</p>\n<h4 id=\"新建工程\"><a href=\"#新建工程\" class=\"headerlink\" title=\"新建工程\"></a>新建工程</h4><p>Keil窗口左上，点击Project - New $\\mu$Vision Project</p>\n<p><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240413190521070.png\" alt=\"keil新建项目\"></p>\n<p>然后会弹出保存路径的对话框，任意填写即可</p>\n<div class=\"custom-quote tip\">\n<span class=\"custom-quote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M20.86 14.13C20 14.7 19.56 15.74 19.77 16.76C20.13 18.55 18.55 20.13 16.76 19.77C15.74 19.57 14.7 20 14.13 20.86C13.12 22.38 10.89 22.38 9.88 20.86C9.3 20 8.26 19.56 7.24 19.77C5.45 20.13 3.87 18.55 4.23 16.76C4.43 15.74 4 14.7 3.14 14.13C1.62 13.12 1.62 10.89 3.14 9.88C4 9.3 4.44 8.26 4.23 7.24C3.87 5.45 5.45 3.87 7.24 4.23C8.26 4.44 9.3 4 9.87 3.14C10.88 1.62 13.11 1.62 14.12 3.14C14.7 4 15.74 4.44 16.76 4.23C18.55 3.87 20.13 5.45 19.77 7.24C19.56 8.26 20 9.3 20.86 9.87C22.38 10.88 22.38 13.12 20.86 14.13Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M12.01 15C12.01 14.5 12.01 14.5 12.01 14.5C12.04 13.75 13 13.46 14.04 12.2C14.41 11.74 14.69 11.41 14.86 10.85C15.15 9.95 14.92 9.18 14.86 9.02C14.8 8.79 14.52 8 13.72 7.46C13.06 7.02 12.42 7 12.14 7C11.9 7 11.36 7 10.78 7.3C10.28 7.56 9.98 7.9 9.83 8.1C9.24 8.82 9.06 9.63 9 10.06\"></path>\n<path stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M11.99 18H12.01\"></path>\n</svg></span>\n<p class=\"custom-quote-title\">TIP</p>\n<p>路径推荐设置为和你的Protetus工程一样的路径，这样在之后编译出来的程序就在<code>Proteus工程目录\\Objects\\</code>中</p>\n\n</div>\n<hr>\n<p>选择好路径之后需要选择一个设备，根据你在Proteus使用的单片机型号来选择，这里选的是AT89C51</p>\n<p><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/image-20240413192130940.png\" alt=\"选择设备\"></p>\n<p>这里点击<code>OK</code>之后会再次弹出一个Yes或者No的对话框，选 是 就行。</p>\n<hr>\n<p>此时左边的目录栏应该已经有东西了，点击<code>Target 1</code>左边的加号按钮来展开。</p>\n<p>再鼠标右键点击<code>Source Group 1</code>，选择<code>Add new item to Group &#39;Source Group 1&#39;</code></p>\n<p><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6.png\"></p>\n<p>然后会弹出来一个创建文件的对话框，这里选择C语言，名称随意。</p>\n<p><img src=\"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/%E5%88%9B%E5%BB%BAc%E6%96%87%E4%BB%B6.png\"></p>\n<p>最后点击<code>Add</code>，就会有输入代码的界面了</p>\n<hr>\n<div class=\"language-c\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">c</span><pre class=\"shiki Aurora Future\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #65666B; font-style: italic\">//以下代码中出现中文仅为了更好理解，Keil中输入中文会显示为问号</span></span>\n<span class=\"line\"><span style=\"color: #9569EC\">#include</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&lt;</span><span style=\"color: #CCCCCC\">reg52.h</span><span style=\"color: #505153\">&gt;</span><span style=\"color: #CCCCCC\">       </span><span style=\"color: #65666B; font-style: italic\">//这一行的作用是引用头文件，表示以下内容有部分命令来自reg52.h</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">sbit LED灯</span><span style=\"color: #9569EC\">=</span><span style=\"color: #CCCCCC\">P1</span><span style=\"color: #9569EC\">^0</span><span style=\"color: #505153\">;</span><span style=\"color: #65666B; font-style: italic\">         //使用sbit定义单片机芯片上P1.0针脚为 LED灯 ，定义时仅能为P1^0</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">sbit SW</span><span style=\"color: #9569EC\">=</span><span style=\"color: #CCCCCC\">P3</span><span style=\"color: #9569EC\">^0</span><span style=\"color: #505153\">;</span><span style=\"color: #65666B; font-style: italic\">            //使用sbit定义单片机芯片上P3.0针脚为 SW </span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DA67DA\">void</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #9569EC\">main</span><span style=\"color: #CCCCCC\">() </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #65666B; font-style: italic\">            //定义main函数，可以粗略理解为你想要实现的功能从这一句开始</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #9569EC\">while</span><span style=\"color: #CCCCCC\">(</span><span style=\"color: #9569EC\">1</span><span style=\"color: #CCCCCC\">) </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #65666B; font-style: italic\">           //这里使用了一个while循环，让单片机一直重复执行以下命令直到终止</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">if</span><span style=\"color: #CCCCCC\"> (SW</span><span style=\"color: #9569EC\">==0</span><span style=\"color: #CCCCCC\">) </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #65666B; font-style: italic\">     //使用if检测SW的电平状态，这里为若为低电平则LED灯得到低电平信号</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            P1_0</span><span style=\"color: #9569EC\">=0</span><span style=\"color: #505153\">;</span><span style=\"color: #65666B; font-style: italic\">      //同上</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #9569EC\">else</span><span style=\"color: #CCCCCC\"> </span><span style=\"color: #505153\">&#123;</span><span style=\"color: #65666B; font-style: italic\">           //else指除了上面if指定的SW==0情况以外的所有情况</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">            P1_0</span><span style=\"color: #9569EC\">=1</span><span style=\"color: #505153\">;</span><span style=\"color: #65666B; font-style: italic\">      //指的是当SW为非0时会执行 LED灯=1,意为LED灯得到一个高电平信号</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">        </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #CCCCCC\">    </span><span style=\"color: #505153\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #505153\">&#125;</span></span></code></pre></div>","feature":true,"text":"单片机课程中除了需要画出原理图，还要根据自己的目的给单片机编写程序。 由于Keil是纯英文界面，不是特别友好，下面记录一些基础使用方法 新建工程Keil窗口左上...","permalink":"/post/microcontroller-keil","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"课程","slug":"课程","count":2,"path":"api/categories/课程.json"}],"tags":[{"name":"单片机","slug":"单片机","count":2,"path":"api/tags/单片机.json"},{"name":"C语言","slug":"C语言","count":1,"path":"api/tags/C语言.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B\"><span class=\"toc-text\">新建工程</span></a></li></ol>","author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"单片机Proteus基础内容","uid":"c754b75a815e74ddc69143dd4e420a68","slug":"microcontroller-example","date":"2024-04-13T05:56:08.000Z","updated":"2024-04-13T11:15:51.408Z","comments":true,"path":"api/articles/microcontroller-example.json","keywords":null,"cover":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/Proteus.png","text":"本文将根据头一节单片机课程内容梳理Proteus软件的使用方法以及部分注意事项 打开程序在机房的电脑上打开Proteus的时候需要鼠标右键单击图标，选择以管理员...","permalink":"/post/microcontroller-example","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"课程","slug":"课程","count":2,"path":"api/categories/课程.json"}],"tags":[{"name":"单片机","slug":"单片机","count":2,"path":"api/tags/单片机.json"}],"author":{"name":"Nexaris","slug":"blog-author","avatar":"https://picsforblog3133.oss-cn-beijing.aliyuncs.com/img/avatar.jpg","link":"/","description":"仍在寻找前方的道路","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}